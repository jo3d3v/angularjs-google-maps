!function(e,t){"object"==typeof exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(e){/**
 * AngularJS Google Maps Ver. 1.18.0
 *
 * The MIT License (MIT)
 * 
 * Copyright (c) 2014, 2015, 1016 Allen Kim
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
return e.module("ngMap",[]),function(){"use strict";var t,n=function(n,o,r,i,a,s,p,c,l){t=s;var u=this,g=a.startSymbol(),d=a.endSymbol();u.mapOptions,u.mapEvents,u.eventListeners,u.addObject=function(e,t){if(u.map){u.map[e]=u.map[e]||{};var n=Object.keys(u.map[e]).length;u.map[e][t.id||n]=t,u.map instanceof google.maps.Map&&("infoWindows"!=e&&t.setMap&&t.setMap&&t.setMap(u.map),t.centered&&t.position&&u.map.setCenter(t.position),"markers"==e&&u.objectChanged("markers"),"customMarkers"==e&&u.objectChanged("customMarkers"))}},u.deleteObject=function(e,t){if(t.map){var n=t.map[e];for(var o in n)n[o]===t&&(google.maps.event.clearInstanceListeners(t),delete n[o]);t.map&&t.setMap&&t.setMap(null),"markers"==e&&u.objectChanged("markers"),"customMarkers"==e&&u.objectChanged("customMarkers")}},u.observeAttrSetObj=function(e,n,o){if(n.noWatcher)return!1;for(var r=t.getAttrsToObserve(e),i=0;i<r.length;i++){var a=r[i];n.$observe(a,p.observeAndSet(a,o))}},u.zoomToIncludeMarkers=function(){if(null!=u.map.markers&&Object.keys(u.map.markers).length>0||null!=u.map.customMarkers&&Object.keys(u.map.customMarkers).length>0){var e=new google.maps.LatLngBounds;for(var t in u.map.markers)e.extend(u.map.markers[t].getPosition());for(var n in u.map.customMarkers)e.extend(u.map.customMarkers[n].getPosition());u.mapOptions.maximumZoom&&(u.enableMaximumZoomCheck=!0),u.map.fitBounds(e)}},u.objectChanged=function(e){!u.map||"markers"!=e&&"customMarkers"!=e||"auto"!=u.map.zoomToIncludeMarkers||u.zoomToIncludeMarkers()},u.initializeMap=function(){var a=u.mapOptions,s=u.mapEvents,m=u.map;if(u.map=c.getMapInstance(o[0]),p.setStyle(o[0]),m){var v=t.filter(r),y=t.getOptions(v),h=t.getControlOptions(v);a=e.extend(y,h);for(var b in m){var M=m[b];if("object"==typeof M)for(var w in M)u.addObject(b,M[w])}u.map.showInfoWindow=u.showInfoWindow,u.map.hideInfoWindow=u.hideInfoWindow}a.zoom=a.zoom||15;var O=a.center,L=new RegExp(l(g)+".*"+l(d));if(!a.center||"string"==typeof O&&O.match(L))a.center=new google.maps.LatLng(0,0);else if("string"==typeof O&&O.match(/^[0-9.-]*,[0-9.-]*$/)){var k=parseFloat(O.split(",")[0]),j=parseFloat(O.split(",")[1]);a.center=new google.maps.LatLng(k,j)}else if(!(O instanceof google.maps.LatLng)){var C=a.center;delete a.center,p.getGeoLocation(C,a.geoLocationOptions).then(function(e){u.map.setCenter(e);var t=a.geoCallback;t&&i(t)(n)},function(){a.geoFallbackCenter&&u.map.setCenter(a.geoFallbackCenter)})}u.map.setOptions(a);for(var $ in s){var A=s[$],E=google.maps.event.addListener(u.map,$,A);u.eventListeners[$]=E}u.observeAttrSetObj(f,r,u.map),u.singleInfoWindow=a.singleInfoWindow,google.maps.event.trigger(u.map,"resize"),google.maps.event.addListenerOnce(u.map,"idle",function(){p.addMap(u),a.zoomToIncludeMarkers&&u.zoomToIncludeMarkers(),n.map=u.map,n.$emit("mapInitialized",u.map),r.mapInitialized&&i(r.mapInitialized)(n,{map:u.map})}),a.zoomToIncludeMarkers&&a.maximumZoom&&google.maps.event.addListener(u.map,"zoom_changed",function(){1==u.enableMaximumZoomCheck&&(u.enableMaximumZoomCheck=!1,google.maps.event.addListenerOnce(u.map,"bounds_changed",function(){u.map.setZoom(Math.min(a.maximumZoom,u.map.getZoom()))}))})},n.google=google;var f=t.orgAttributes(o),m=t.filter(r),v=t.getOptions(m,{scope:n}),y=t.getControlOptions(m),h=e.extend(v,y),b=t.getEvents(n,m);if(Object.keys(b).length&&void 0,u.mapOptions=h,u.mapEvents=b,u.eventListeners={},v.lazyInit){if(r.id&&0===r.id.indexOf(g,0)&&-1!==r.id.indexOf(d,r.id.length-d.length))var M=r.id.slice(2,-2),w=i(M)(n);else var w=r.id;u.map={id:w},p.addMap(u)}else u.initializeMap();v.triggerResize&&google.maps.event.trigger(u.map,"resize"),o.bind("$destroy",function(){c.returnMapInstance(u.map),p.deleteMap(u)})};n.$inject=["$scope","$element","$attrs","$parse","$interpolate","Attr2MapOptions","NgMap","NgMapPool","escapeRegexpFilter"],e.module("ngMap").controller("__MapController",n)}(),function(){"use strict";var t,n=function(e,n,r,i){i=i[0]||i[1];var a=t.orgAttributes(n),s=t.filter(r),p=t.getOptions(s,{scope:e}),c=t.getEvents(e,s),l=o(p,c);i.addObject("bicyclingLayers",l),i.observeAttrSetObj(a,r,l),n.bind("$destroy",function(){i.deleteObject("bicyclingLayers",l)})},o=function(e,t){var n=new google.maps.BicyclingLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n},r=function(e){return t=e,{restrict:"E",require:["?^map","?^ngMap"],link:n}};r.$inject=["Attr2MapOptions"],e.module("ngMap").directive("bicyclingLayer",r)}(),function(){"use strict";var t,n,o=function(e,n,o,r,i){r=r[0]||r[1];var a=t.filter(o),s=t.getOptions(a,{scope:e}),p=t.getEvents(e,a),c=n[0].parentElement.removeChild(n[0]),l=i();l.appendTo(c);for(var u in p)google.maps.event.addDomListener(c,u,p[u]);r.addObject("customControls",c);var g=s.position;r.map.controls[google.maps.ControlPosition[g]].push(c),n.bind("$destroy",function(){r.deleteObject("customControls",c)})},r=function(e,r){return t=e,n=r,{restrict:"E",require:["?^map","?^ngMap"],link:o,transclude:!0}};r.$inject=["Attr2MapOptions","NgMap"],e.module("ngMap").directive("customControl",r)}(),function(){"use strict";var t,n,o=function(e){e=e||{},this.el=document.createElement("div"),this.el.style.display="inline-block",this.el.style.visibility="hidden",this.visible=!0;for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},r=function(){o.prototype=new google.maps.OverlayView,o.prototype.setContent=function(e){this.el.innerHTML=e,this.el.style.position="absolute"},o.prototype.getDraggable=function(){return this.draggable},o.prototype.setDraggable=function(e){this.draggable=e},o.prototype.getPosition=function(){return this.position},o.prototype.setPosition=function(e){e&&(this.position=e);var t=this;if(this.getProjection()&&"function"==typeof this.position.lng){var n=function(){if(t.getProjection()&&"function"==typeof t.position.lng){var e=t.el.hasOwnProperty("offsetX")?t.el.markerOffsetX:0,n=t.el.hasOwnProperty("offsetY")?t.el.markerOffsetX:0,o=t.getProjection().fromLatLngToDivPixel(t.position),r=Math.round(o.x-e),i=Math.round(o.y-n);t.el.style.left=r+"px",t.el.style.top=i+"px",t.el.style.visibility="visible"}};t.el.offsetWidth&&t.el.offsetHeight?n():setTimeout(n,300)}},o.prototype.setZIndex=function(e){e&&(this.zIndex=e),this.el.style.zIndex=this.zIndex},o.prototype.getVisible=function(){return this.visible},o.prototype.setVisible=function(e){this.el.style.display=e?"inline-block":"none",this.visible=e},o.prototype.addClass=function(e){var t=this.el.className.trim().split(" ");-1==t.indexOf(e)&&t.push(e),this.el.className=t.join(" ")},o.prototype.removeClass=function(e){var t=this.el.className.split(" "),n=t.indexOf(e);n>-1&&t.splice(n,1),this.el.className=t.join(" ")},o.prototype.onAdd=function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},o.prototype.draw=function(){this.setPosition(),this.setZIndex(this.zIndex),this.setVisible(this.visible)},o.prototype.onRemove=function(){this.el.parentNode.removeChild(this.el)}},i=function(e,r){return function(i,a,s,p){p=p[0]||p[1];var c=t.orgAttributes(a),l=t.filter(s),u=t.getOptions(l,{scope:i}),g=t.getEvents(i,l);a[0].style.display="none";var d=new o(u);r&&r.length>0&&i.$watch("["+r.join(",")+"]",function(){d.setContent(e)}),setTimeout(function(){d.setContent(a[0].innerHTML);var e=a[0].firstElementChild.className;d.addClass("custom-marker"),d.addClass(e),u.position instanceof google.maps.LatLng||n.getGeoLocation(u.position).then(function(e){d.setPosition(e)})},0);for(var f in g)g.hasOwnProperty(f)&&google.maps.event.addDomListener(d.el,f,g[f]);p.addObject("customMarkers",d),p.observeAttrSetObj(c,s,d),a.bind("$destroy",function(){p.deleteObject("customMarkers",d)})}},a=function(e,o,a,s){t=o,n=a;var p=e.startSymbol(),c=e.endSymbol(),l=new RegExp(s(p)+"([^"+c.substring(0,1)+"]+)"+s(c),"g");return{restrict:"E",require:["?^map","?^ngMap"],compile:function(e){r(),e[0].style.display="none";var t=e.html(),n=t.match(l),o=[];return(n||[]).forEach(function(e){var t=e.replace(p,"").replace(c,"");-1==e.indexOf("::")&&-1==e.indexOf("this.")&&-1==o.indexOf(t)&&o.push(e.replace(p,"").replace(c,""))}),i(t,o)}}};a.$inject=["$interpolate","Attr2MapOptions","NgMap","escapeRegexpFilter"],e.module("ngMap").directive("customMarker",a)}(),function(){"use strict";var t,n,o,r=function(e,t){e.panel&&(e.panel=document.getElementById(e.panel)||document.querySelector(e.panel));var n=new google.maps.DirectionsRenderer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n},i=function(e,t){var r=new google.maps.DirectionsService,i=t;i.travelMode=i.travelMode||"DRIVING";var a=["origin","destination","travelMode","transitOptions","unitSystem","durationInTraffic","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","region"];for(var s in i)-1===a.indexOf(s)&&delete i[s];i.waypoints&&("[]"==i.waypoints||""===i.waypoints)&&delete i.waypoints;var p=function(t){r.route(t,function(t,o){o==google.maps.DirectionsStatus.OK&&n(function(){e.setDirections(t)})})};i.origin&&i.destination&&("current-location"==i.origin?o.getCurrentPosition().then(function(e){i.origin=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),p(i)}):"current-location"==i.destination?o.getCurrentPosition().then(function(e){i.destination=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),p(i)}):p(i))},a=function(e,a,s,p){var c=e;t=p,n=a,o=s;var l=function(e,o,a,s){s=s[0]||s[1];var p=c.orgAttributes(o),l=c.filter(a),u=c.getOptions(l,{scope:e}),g=c.getEvents(e,l),d=c.getAttrsToObserve(p),f=r(u,g);s.addObject("directionsRenderers",f),d.forEach(function(e){!function(e){a.$observe(e,function(t){if("panel"==e)n(function(){var e=document.getElementById(t)||document.querySelector(t);e&&f.setPanel(e)});else if(u[e]!==t){var o=c.toOptionValue(t,{key:e});u[e]=o,i(f,u)}})}(e)}),t.getMap().then(function(){i(f,u)}),o.bind("$destroy",function(){s.deleteObject("directionsRenderers",f)})};return{restrict:"E",require:["?^map","?^ngMap"],link:l}};a.$inject=["Attr2MapOptions","$timeout","NavigatorGeolocation","NgMap"],e.module("ngMap").directive("directions",a)}(),function(){"use strict";e.module("ngMap").directive("drawingManager",["Attr2MapOptions",function(e){var t=e;return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,n,o,r){r=r[0]||r[1];var i=t.filter(o),a=t.getOptions(i,{scope:e}),s=t.getControlOptions(i),p=t.getEvents(e,i),c=new google.maps.drawing.DrawingManager({drawingMode:a.drawingmode,drawingControl:a.drawingcontrol,drawingControlOptions:s.drawingControlOptions,circleOptions:a.circleoptions,markerOptions:a.markeroptions,polygonOptions:a.polygonoptions,polylineOptions:a.polylineoptions,rectangleOptions:a.rectangleoptions});o.$observe("drawingControlOptions",function(e){c.drawingControlOptions=t.getControlOptions({drawingControlOptions:e}).drawingControlOptions,c.setDrawingMode(null),c.setMap(r.map)});for(var l in p)google.maps.event.addListener(c,l,p[l]);r.addObject("mapDrawingManager",c),n.bind("$destroy",function(){r.deleteObject("mapDrawingManager",c)})}}}])}(),function(){"use strict";e.module("ngMap").directive("dynamicMapsEngineLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.visualization.DynamicMapsEngineLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,o,r,i){i=i[0]||i[1];var a=t.filter(r),s=t.getOptions(a,{scope:e}),p=t.getEvents(e,a,p),c=n(s,p);i.addObject("mapsEngineLayers",c)}}}])}(),function(){"use strict";e.module("ngMap").directive("fusionTablesLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.FusionTablesLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,o,r,i){i=i[0]||i[1];var a=t.filter(r),s=t.getOptions(a,{scope:e}),p=t.getEvents(e,a,p),c=n(s,p);i.addObject("fusionTablesLayers",c),o.bind("$destroy",function(){i.deleteObject("fusionTablesLayers",c)})}}}])}(),function(){"use strict";e.module("ngMap").directive("heatmapLayer",["Attr2MapOptions","$window",function(e,t){var n=e;return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,o,r,i){i=i[0]||i[1];var a=n.filter(r),s=n.getOptions(a,{scope:e});if(s.data=t[r.data]||e[r.data],!(s.data instanceof Array))throw"invalid heatmap data";s.data=new google.maps.MVCArray(s.data);{var p=new google.maps.visualization.HeatmapLayer(s);n.getEvents(e,a)}i.addObject("heatmapLayers",p)}}}])}(),function(){"use strict";var t=function(t,n,o,r,i,a,s){var p=t,c=function(t,a,s){var p;!t.position||t.position instanceof google.maps.LatLng||delete t.position,p=new google.maps.InfoWindow(t);for(var c in a)c&&google.maps.event.addListener(p,c,a[c]);var l=o(function(t){e.isString(s)?r(s).then(function(n){t(e.element(n).wrap("<div>").parent())},function(e){throw"info-window template request failed: "+e}):t(s)}).then(function(t){var n=t.html().trim();if(1!=e.element(n).length)throw"info-window working as a template must have a container";p.__template=n.replace(/\s?ng-non-bindable[='"]+/,"")});return p.__open=function(e,t,o){l.then(function(){i(function(){o&&(t.anchor=o);var r=n(p.__template)(t);p.setContent(r[0]),t.$apply(),o&&o.getPosition?p.open(e,o):o&&o instanceof google.maps.LatLng?(p.open(e),p.setPosition(o)):p.open(e);var i=p.content.parentElement.parentElement.parentElement;i.className="ng-map-info-window"})})},p},l=function(e,t,n,o){o=o[0]||o[1],t.css("display","none");var r,i=p.orgAttributes(t),l=p.filter(n),u=p.getOptions(l,{scope:e}),g=p.getEvents(e,l),d=c(u,g,u.template||t);!u.position||u.position instanceof google.maps.LatLng||(r=u.position),r&&s.getGeoLocation(r).then(function(t){d.setPosition(t),d.__open(o.map,e,t);var r=n.geoCallback;r&&a(r)(e)}),o.addObject("infoWindows",d),o.observeAttrSetObj(i,n,d),o.showInfoWindow=o.map.showInfoWindow=o.showInfoWindow||function(t,n,r){var i="string"==typeof t?t:n,a="string"==typeof t?n:r;if("string"==typeof a)if("undefined"!=typeof o.map.markers&&"undefined"!=typeof o.map.markers[a])a=o.map.markers[a];else{if("undefined"==typeof o.map.customMarkers[a])throw new Error("Cant open info window for id "+a+". Marker or CustomMarker is not defined");a=o.map.customMarkers[a]}var s=o.map.infoWindows[i],p=a?a:this.getPosition?this:null;s.__open(o.map,e,p),o.singleInfoWindow&&(o.lastInfoWindow&&e.hideInfoWindow(o.lastInfoWindow),o.lastInfoWindow=i)},o.hideInfoWindow=o.map.hideInfoWindow=o.hideInfoWindow||function(e,t){var n="string"==typeof e?e:t,r=o.map.infoWindows[n];r.close()},e.showInfoWindow=o.map.showInfoWindow,e.hideInfoWindow=o.map.hideInfoWindow;var f=d.mapId?{id:d.mapId}:0;s.getMap(f).then(function(t){if(d.visible&&d.__open(t,e),d.visibleOnMarker){var n=d.visibleOnMarker;d.__open(t,e,t.markers[n])}})};return{restrict:"E",require:["?^map","?^ngMap"],link:l}};t.$inject=["Attr2MapOptions","$compile","$q","$templateRequest","$timeout","$parse","NgMap"],e.module("ngMap").directive("infoWindow",t)}(),function(){"use strict";e.module("ngMap").directive("kmlLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.KmlLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,o,r,i){i=i[0]||i[1];var a=t.orgAttributes(o),s=t.filter(r),p=t.getOptions(s,{scope:e}),c=t.getEvents(e,s),l=n(p,c);i.addObject("kmlLayers",l),i.observeAttrSetObj(a,r,l),o.bind("$destroy",function(){i.deleteObject("kmlLayers",l)})}}}])}(),function(){"use strict";e.module("ngMap").directive("mapData",["Attr2MapOptions","NgMap",function(e,t){var n=e;return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,o,r,i){i=i[0]||i[1];var a=n.filter(r),s=n.getOptions(a,{scope:e}),p=n.getEvents(e,a,p);t.getMap(i.map.id).then(function(t){for(var n in s){var o=s[n];"function"==typeof e[o]?t.data[n](e[o]):t.data[n](o)}for(var r in p)t.data.addListener(r,p[r])})}}}])}(),function(){"use strict";var t,n,o,r=[],i=[],a=function(e,o,a){var s=a.mapLazyLoadParams||a.mapLazyLoad;if(void 0===window.google||void 0===window.google.maps){i.push({scope:e,element:o,savedHtml:r[i.length]}),window.lazyLoadCallback=function(){t(function(){i.forEach(function(e){e.element.html(e.savedHtml),n(e.element.contents())(e.scope)})},100)};var p=document.createElement("script");p.src=s+(s.indexOf("?")>-1?"&":"?")+"callback=lazyLoadCallback",document.querySelector('script[src="'+p.src+'"]')||document.body.appendChild(p)}else o.html(r),n(o.contents())(e)},s=function(e,t){return!t.mapLazyLoad&&void 0,r.push(e.html()),o=t.mapLazyLoad,void 0!==window.google&&void 0!==window.google.maps?!1:(e.html(""),{pre:a})},p=function(e,o){return n=e,t=o,{compile:s}};p.$inject=["$compile","$timeout"],e.module("ngMap").directive("mapLazyLoad",p)}(),function(){"use strict";e.module("ngMap").directive("mapType",["$parse","NgMap",function(e,t){return{restrict:"E",require:["?^map","?^ngMap"],link:function(n,o,r,i){i=i[0]||i[1];var a,s=r.name;if(!s)throw"invalid map-type name";if(a=e(r.object)(n),!a)throw"invalid map-type object";t.getMap().then(function(e){e.mapTypes.set(s,a)}),i.addObject("mapTypes",a)}}}])}(),function(){"use strict";var t=function(){return{restrict:"AE",controller:"__MapController",controllerAs:"ngmap"}};e.module("ngMap").directive("map",[t]),e.module("ngMap").directive("ngMap",[t])}(),function(){"use strict";e.module("ngMap").directive("mapsEngineLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.visualization.MapsEngineLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,o,r,i){i=i[0]||i[1];var a=t.filter(r),s=t.getOptions(a,{scope:e}),p=t.getEvents(e,a,p),c=n(s,p);i.addObject("mapsEngineLayers",c)}}}])}(),function(){"use strict";var t,n,o,r=function(e,t){var n;if(o.defaultOptions.marker)for(var r in o.defaultOptions.marker)"undefined"==typeof e[r]&&(e[r]=o.defaultOptions.marker[r]);e.position instanceof google.maps.LatLng||(e.position=new google.maps.LatLng(0,0)),n=new google.maps.Marker(e),Object.keys(t).length>0;for(var i in t)i&&google.maps.event.addListener(n,i,t[i]);return n},i=function(e,i,a,s){s=s[0]||s[1];var p,c=t.orgAttributes(i),l=t.filter(a),u=t.getOptions(l,e,{scope:e}),g=t.getEvents(e,l);u.position instanceof google.maps.LatLng||(p=u.position);var d=r(u,g);s.addObject("markers",d),p&&o.getGeoLocation(p).then(function(t){d.setPosition(t),u.centered&&d.map.setCenter(t);var o=a.geoCallback;o&&n(o)(e)}),s.observeAttrSetObj(c,a,d),i.bind("$destroy",function(){s.deleteObject("markers",d)})},a=function(e,r,a){return t=e,n=r,o=a,{restrict:"E",require:["^?map","?^ngMap"],link:i}};a.$inject=["Attr2MapOptions","$parse","NgMap"],e.module("ngMap").directive("marker",a)}(),function(){"use strict";e.module("ngMap").directive("overlayMapType",["NgMap",function(e){return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,n,o,r){r=r[0]||r[1];var i=o.initMethod||"insertAt",a=t[o.object];e.getMap().then(function(e){if("insertAt"==i){var t=parseInt(o.index,10);e.overlayMapTypes.insertAt(t,a)}else"push"==i&&e.overlayMapTypes.push(a)}),r.addObject("overlayMapTypes",a)}}}])}(),function(){"use strict";var t=function(e,t){var n=e,o=function(e,o,r,i){if("false"===r.placesAutoComplete)return!1;var a=n.filter(r),s=n.getOptions(a,{scope:e}),p=n.getEvents(e,a),c=new google.maps.places.Autocomplete(o[0],s);for(var l in p)google.maps.event.addListener(c,l,p[l]);var u=function(){t(function(){i&&i.$setViewValue(o.val())},100)};google.maps.event.addListener(c,"place_changed",u),o[0].addEventListener("change",u),r.$observe("types",function(e){if(e){var t=n.toOptionValue(e,{key:"types"});c.setTypes(t)}}),r.$observe("componentRestrictions",function(t){t&&c.setComponentRestrictions(e.$eval(t))})};return{restrict:"A",require:"?ngModel",link:o}};t.$inject=["Attr2MapOptions","$timeout"],e.module("ngMap").directive("placesAutoComplete",t)}(),function(){"use strict";var t=function(e,t){var n,o=e.name;switch(delete e.name,o){case"circle":e.center instanceof google.maps.LatLng||(e.center=new google.maps.LatLng(0,0)),n=new google.maps.Circle(e);break;case"polygon":n=new google.maps.Polygon(e);break;case"polyline":n=new google.maps.Polyline(e);break;case"rectangle":n=new google.maps.Rectangle(e);break;case"groundOverlay":case"image":var r=e.url,i={opacity:e.opacity,clickable:e.clickable,id:e.id};n=new google.maps.GroundOverlay(r,e.bounds,i)}for(var a in t)t[a]&&google.maps.event.addListener(n,a,t[a]);return n},n=function(e,n,o){var r=e,i=function(e,i,a,s){s=s[0]||s[1];var p,c,l=r.orgAttributes(i),u=r.filter(a),g=r.getOptions(u,{scope:e}),d=r.getEvents(e,u);c=g.name,g.center instanceof google.maps.LatLng||(p=g.center);var f=t(g,d);s.addObject("shapes",f),p&&"circle"==c&&o.getGeoLocation(p).then(function(t){f.setCenter(t),f.centered&&f.map.setCenter(t);var o=a.geoCallback;o&&n(o)(e)}),s.observeAttrSetObj(l,a,f),i.bind("$destroy",function(){s.deleteObject("shapes",f)})};return{restrict:"E",require:["?^map","?^ngMap"],link:i}};n.$inject=["Attr2MapOptions","$parse","NgMap"],e.module("ngMap").directive("shape",n)}(),function(){"use strict";var t=function(t,n){var o=t,r=function(e,t,n){var o,r;t.container&&(r=document.getElementById(t.container),r=r||document.querySelector(t.container)),r?o=new google.maps.StreetViewPanorama(r,t):(o=e.getStreetView(),o.setOptions(t));for(var i in n)i&&google.maps.event.addListener(o,i,n[i]);return o},i=function(t,i,a){var s=o.filter(a),p=o.getOptions(s,{scope:t}),c=o.getControlOptions(s),l=e.extend(p,c),u=o.getEvents(t,s);n.getMap().then(function(e){var t=r(e,l,u);e.setStreetView(t),!t.getPosition()&&t.setPosition(e.getCenter()),google.maps.event.addListener(t,"position_changed",function(){t.getPosition()!==e.getCenter()&&e.setCenter(t.getPosition())});var n=google.maps.event.addListener(e,"center_changed",function(){t.setPosition(e.getCenter()),google.maps.event.removeListener(n)})})};return{restrict:"E",require:["?^map","?^ngMap"],link:i}};t.$inject=["Attr2MapOptions","NgMap"],e.module("ngMap").directive("streetViewPanorama",t)}(),function(){"use strict";e.module("ngMap").directive("trafficLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.TrafficLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,o,r,i){i=i[0]||i[1];var a=t.orgAttributes(o),s=t.filter(r),p=t.getOptions(s,{scope:e}),c=t.getEvents(e,s),l=n(p,c);i.addObject("trafficLayers",l),i.observeAttrSetObj(a,r,l),o.bind("$destroy",function(){i.deleteObject("trafficLayers",l)})}}}])}(),function(){"use strict";e.module("ngMap").directive("transitLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.TransitLayer(e);for(var o in t)google.maps.event.addListener(n,o,t[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,o,r,i){i=i[0]||i[1];var a=t.orgAttributes(o),s=t.filter(r),p=t.getOptions(s,{scope:e}),c=t.getEvents(e,s),l=n(p,c);i.addObject("transitLayers",l),i.observeAttrSetObj(a,r,l),o.bind("$destroy",function(){i.deleteObject("transitLayers",l)})}}}])}(),function(){"use strict";var t=/([\:\-\_]+(.))/g,n=/^moz([A-Z])/,o=function(){return function(e){return e.replace(t,function(e,t,n,o){return o?n.toUpperCase():n}).replace(n,"Moz$1")}};e.module("ngMap").filter("camelCase",o)}(),function(){"use strict";var t=function(){return function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}};e.module("ngMap").filter("escapeRegexp",t)}(),function(){"use strict";var t=function(){return function(e){try{return JSON.parse(e),e}catch(t){return e.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})}}};e.module("ngMap").filter("jsonize",t)}(),function(){"use strict";var t=/^(\d{4}-\d\d-\d\d([tT][\d:.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/,n=/^[+-]?[0-9.]+,[ ]* ?[+-]?[0-9.]+$/,o=/^([A-Z][a-zA-Z0-9]+)\(([^()]*)\)$/,r=/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/,i=/^[A-Z]+$/,a=/temperatureUnit|windSpeedUnit|labelColor/,s=/^\s*[{]\s*[^{]+|^\s*[[]\s*[^[]+/,p=function(e,p,c,l,u,g,d,f,m){var v=l.startSymbol(),y=l.endSymbol(),h=new RegExp("^"+m(v)),b=new RegExp(m(v)),M=new RegExp(m(y),"g"),w=function(e){e.length>0&&(e=e[0]);for(var t={},n=0;n<e.attributes.length;n++){var o=e.attributes[n];t[o.name]=o.value}return t},O=function(e){var t=e;if(e[0].constructor==Array)if(e[0][0].constructor==Array&&2==e[0][0].length||e[0][0].constructor==Object){for(var n,o=[],r=0;r<e.length;r++)n=e[r].map(function(e){return new google.maps.LatLng(e[0],e[1])}),o.push(n);t=o}else t=e.map(function(e){return new google.maps.LatLng(e[0],e[1])});else!isNaN(parseFloat(e[0]))&&isFinite(e[0])&&(t=new google.maps.LatLng(t[0],t[1]));return t},L=function(e,p){var c=e;if(c=Number(e),!isNaN(c))return c;if(n.test(e)&&(e="["+e+"]"),s.test(e)){c=JSON.parse(f(e));var l=typeof c;if(Array.isArray(c))c[0].constructor!==Object&&(c=O(c));else if(c&&("object"==l||"function"==l)){var u=p;u.doNotConverStringToNumber=!0,c=$(c,u)}}else if(o.test(e)){var g=e.match(o);if(g.length>2){var d=JSON.parse(f("["+g[2]+"]"));c=new(google.maps[g[1]].bind.apply(google.maps[g[1]],[null].concat(d)))}}else if(r.test(e)){var m=e.match(r);m.length>2&&(c=google.maps[m[1]][m[2]])}else if(i.test(e)){if(p.key){var v=p.key.charAt(0).toUpperCase()+p.key.slice(1);a.test(p.key)?(v=v.replace(/s$/,""),c=google.maps.weather[v][e]):c=google.maps[v][e]}}else e.match(t)?(c=new Date(e),isNaN(c.getTime())&&(c=e)):c=h.test(e)&&p.scope?p.scope.$eval(e.replace(b,"").replace(M,"")):e;return c},k=function(e,t){var n=L(e,t);if(("center"==t.key||"position"==t.key)&&n instanceof Array&&(n=new google.maps.LatLng(n[0],n[1])),"bounds"==t.key&&n instanceof Array&&(n=new google.maps.LatLngBounds(n[0],n[1])),"icons"==t.key&&n instanceof Array)for(var o=0;o<n.length;o++){var r=n[o];r.icon.path.match(/^[A-Z_]+$/)&&(r.icon.path=google.maps.SymbolPath[r.icon.path])}if("icon"==t.key&&n instanceof Object){(""+n.path).match(/^[A-Z_]+$/)&&(n.path=google.maps.SymbolPath[n.path]);for(var i in n){var a=n[i];"anchor"==i||"origin"==i||"labelOrigin"==i?n[i]=new google.maps.Point(a[0],a[1]):("size"==i||"scaledSize"==i)&&(n[i]=new google.maps.Size(a[0],a[1]))}}return n},j=function(e){var t=[],n=new RegExp(m(v)+".*"+m(y),"g");if(!e.noWatcher)for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];r&&r.match(n)&&t.push(d(o))}return t},C=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(n.match(/^\$/)||n.match(/^ng[A-Z]/)||(t[n]=e[n]));return t},$=function(e,t){t=t||{};var n={};for(var o in e)e.hasOwnProperty(o)&&(e[o]||0===e[o])&&(o.match(/^on[A-Z]/)||o.match(/ControlOptions$/)||(n[o]="string"!=typeof e[o]?e[o]:t.doNotConverStringToNumber&&e[o].match(/^[0-9]+$/)?e[o]:k(e[o],{key:o,scope:t.scope})));return n},A=function(t,n){var o={},r=function(e){return"_"+e.toLowerCase()},i=function(n){var o=n.match(/([^(]+)\(([^)]*)\)/),r=o[1],i=o[2].replace(/event[ ,]*/,""),a=e("["+i+"]");return function(e){function n(e,t){return e[t]}var o=a(t),i=r.split(".").reduce(n,t);i&&i.apply(this,[e].concat(o)),p(function(){t.$apply()})}};for(var a in n)if(n.hasOwnProperty(a)&&n[a]){if(!a.match(/^on[A-Z]/))continue;var s=a.replace(/^on/,"");s=s.charAt(0).toLowerCase()+s.slice(1),s=s.replace(/([A-Z])/g,r);var c=n[a];o[s]=new i(c)}return o},E=function(e){var t={};if("object"!=typeof e)return!1;for(var n in e)if(e.hasOwnProperty(n)&&e[n]){if(!n.match(/(.*)ControlOptions$/))continue;var o=e[n],r=o.replace(/'/g,'"');r=r.replace(/([^"]+)|("[^"]+")/g,function(e,t,n){return t?t.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):n});try{var i=JSON.parse(r);for(var a in i)if(i.hasOwnProperty(a)&&i[a]){var s=i[a];if("string"==typeof s?s=s.toUpperCase():"mapTypeIds"===a&&(s=s.map(function(e){return e.match(/^[A-Z]+$/)?google.maps.MapTypeId[e.toUpperCase()]:e})),"style"===a){var p=n.charAt(0).toUpperCase()+n.slice(1),c=p.replace(/Options$/,"")+"Style";i[a]=google.maps[c][s]}else i[a]="position"===a?google.maps.ControlPosition[s]:s}t[n]=i}catch(l){}}return t};return{filter:C,getOptions:$,getEvents:A,getControlOptions:E,toOptionValue:k,getAttrsToObserve:j,orgAttributes:w}};p.$inject=["$parse","$timeout","$log","$interpolate","NavigatorGeolocation","GeoCoder","camelCaseFilter","jsonizeFilter","escapeRegexpFilter"],e.module("ngMap").service("Attr2MapOptions",p)}(),function(){"use strict";var t,n=function(e){var n=t.defer(),o=new google.maps.Geocoder;return o.geocode(e,function(e,t){t==google.maps.GeocoderStatus.OK?n.resolve(e):n.reject(t)}),n.promise},o=function(e){return t=e,{geocode:n}};o.$inject=["$q"],e.module("ngMap").service("GeoCoder",o)}(),function(){"use strict";var t,n=function(e){var n=t.defer();return navigator.geolocation?(void 0===e?e={timeout:5e3}:void 0===e.timeout&&(e.timeout=5e3),navigator.geolocation.getCurrentPosition(function(e){n.resolve(e)},function(e){n.reject(e)},e)):n.reject("Browser Geolocation service failed."),n.promise},o=function(e){return t=e,{getCurrentPosition:n}};o.$inject=["$q"],e.module("ngMap").service("NavigatorGeolocation",o)}(),function(){"use strict";var t,n,o,r=[],i=function(e){var o=n.createElement("div");o.style.width="100%",o.style.height="100%",e.appendChild(o);var i=new t.google.maps.Map(o,{});return r.push(i),i},a=function(e,t){for(var n,o=0;o<r.length;o++){var i=r[o];if(i.id==t&&!i.inUse){var a=i.getDiv();e.appendChild(a),n=i;break}}return n},s=function(e){for(var t,n=0;n<r.length;n++){var o=r[n];if(!o.id&&!o.inUse){var i=o.getDiv();e.appendChild(i),t=o;break}}return t},p=function(e){var t=a(e,e.id)||s(e);return t?o(function(){google.maps.event.trigger(t,"idle")},100):t=i(e),t.inUse=!0,t},c=function(e){e.inUse=!1},l=function(){for(var e=0;e<r.length;e++)r[e]=null;r=[]},u=function(e){for(var t=0;t<r.length;t++)null!==r[t]&&r[t].id==e&&(r[t]=null,r.splice(t,1))},g=function(e,i,a){return n=e[0],t=i,o=a,{mapInstances:r,resetMapInstances:l,getMapInstance:p,returnMapInstance:c,deleteMapInstance:u}};g.$inject=["$document","$window","$timeout"],e.module("ngMap").factory("NgMapPool",g)}(),function(){"use strict";var t,n,o,r,i,a,s,p,c={},l=function(e,o){var r;return e.currentStyle?r=e.currentStyle[o]:t.getComputedStyle&&(r=n.defaultView.getComputedStyle(e,null).getPropertyValue(o)),r},u=function(e){var t=c[e||0];return t.map instanceof google.maps.Map?void 0:(t.initializeMap(),t.map)},g=function(e){function n(o){c[e]?r.resolve(c[e].map):o>i?r.reject("could not find map"):t.setTimeout(function(){n(o+100)},100)}e="object"==typeof e?e.id:e,e=e||0;var r=o.defer(),i=2e3;return n(0),r.promise},d=function(e){if(e.map){var t=Object.keys(c).length;c[e.map.id||t]=e}},f=function(e){var t=Object.keys(c).length-1,n=e.map.id||t;if(e.map){for(var o in e.eventListeners){var r=e.eventListeners[o];google.maps.event.removeListener(r)}e.map.controls&&e.map.controls.forEach(function(e){e.clear()})}e.map.heatmapLayers&&Object.keys(e.map.heatmapLayers).forEach(function(t){e.deleteObject("heatmapLayers",e.map.heatmapLayers[t])}),p.deleteMapInstance(n),delete c[n]},m=function(e,t){var n=o.defer();return!e||e.match(/^current/i)?r.getCurrentPosition(t).then(function(e){var t=e.coords.latitude,o=e.coords.longitude,r=new google.maps.LatLng(t,o);n.resolve(r)},function(e){n.reject(e)}):a.geocode({address:e}).then(function(e){n.resolve(e[0].geometry.location)},function(e){n.reject(e)}),n.promise},v=function(e,t){return function(n){if(n){var o=s("set-"+e),r=i.toOptionValue(n,{key:e});t[o]&&(e.match(/center|position/)&&"string"==typeof r?m(r).then(function(e){t[o](e)}):t[o](r))}}},y=function(e){var t=e.getAttribute("default-style");"true"==t?(e.style.display="block",e.style.height="300px"):("block"!=l(e,"display")&&(e.style.display="block"),l(e,"height").match(/^(0|auto)/)&&(e.style.height="300px"))};e.module("ngMap").provider("NgMap",function(){var e={};this.setDefaultOptions=function(t){e=t};var c=function(c,l,h,b,M,w,O,L){return t=c,n=l[0],o=h,r=b,i=M,a=w,s=O,p=L,{defaultOptions:e,addMap:d,deleteMap:f,getMap:g,initMap:u,setStyle:y,getGeoLocation:m,observeAndSet:v}};c.$inject=["$window","$document","$q","NavigatorGeolocation","Attr2MapOptions","GeoCoder","camelCaseFilter","NgMapPool"],this.$get=c
})}(),function(){"use strict";var t,n=function(e,n){n=n||e.getCenter();var o=t.defer(),r=new google.maps.StreetViewService;return r.getPanoramaByLocation(n||e.getCenter,100,function(e,t){t===google.maps.StreetViewStatus.OK?o.resolve(e.location.pano):o.resolve(!1)}),o.promise},o=function(e,t){var n=new google.maps.StreetViewPanorama(e.getDiv(),{enableCloseButton:!0});n.setPano(t)},r=function(e){return t=e,{getPanorama:n,setPanorama:o}};r.$inject=["$q"],e.module("ngMap").service("StreetView",r)}(),"ngMap"});